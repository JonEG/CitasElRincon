{"ast":null,"code":"var _jsxFileName = \"/Users/trabajo/Desktop/ELRINCON/react-rincon/src/controllers/dateController.js\";\nimport DateService from '../services/date.service';\nimport React, { Component } from 'react';\n\nclass DateController {\n  constructor() {\n    this.state = {\n      dates: []\n    };\n  }\n\n  async showTodayDates(daysToQuery, id) {\n    const myDates = [];\n    let aux = daysToQuery;\n\n    if (aux.length == 0) {\n      aux = [this.filterDate(new Date())];\n    }\n\n    async function asyncForEach(array, callback) {\n      for (let index = 0; index < array.length; index++) {\n        await callback(array[index], index, array);\n      }\n    }\n\n    await asyncForEach(aux, async each => {\n      await DateService.getDates({\n        id: id,\n        day: each\n      }).then(res => {\n        if (res.data.success) {\n          const data = res.data.data[0];\n          myDates.push({\n            dates: data\n          });\n        } else {\n          console.error('Error loading dates service');\n        }\n      }).catch(err => {\n        console.error('ERROR server' + err);\n      });\n    });\n    return myDates;\n  }\n\n  filterDate(day) {\n    return day.getFullYear() + '/' + (day.getMonth() + 1) + '/' + day.getDate();\n  }\n\n  getDaysToQuery(startDate, endDate) {\n    const days = [];\n    let eachDay = new Date(startDate.getTime());\n    let i = 1;\n    const finalDay = new Date(endDate.getTime());\n\n    while (eachDay.getTime() <= finalDay) {\n      days.push(this.filterDate(eachDay));\n      eachDay = new Date(startDate.getTime()).addDays(i);\n      i++;\n    }\n\n    return days;\n  }\n\n  loadFillData(dates) {\n    if (dates) {\n      this.state.dates = dates;\n    }\n\n    return this.state.dates.map(each => {\n      if (each.dates) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }\n        }, each.dates.date), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }\n        }, each.dates.time), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }\n        }, each.dates.email), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }\n        }, each.dates.dateType.name));\n      }\n    });\n  }\n\n}\n\nexport default new DateController();","map":{"version":3,"sources":["/Users/trabajo/Desktop/ELRINCON/react-rincon/src/controllers/dateController.js"],"names":["DateService","React","Component","DateController","constructor","state","dates","showTodayDates","daysToQuery","id","myDates","aux","length","filterDate","Date","asyncForEach","array","callback","index","each","getDates","day","then","res","data","success","push","console","error","catch","err","getFullYear","getMonth","getDate","getDaysToQuery","startDate","endDate","days","eachDay","getTime","i","finalDay","addDays","loadFillData","map","date","time","email","dateType","name"],"mappings":"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","sourcesContent":["import DateService from '../services/date.service';\nimport React, { Component } from 'react';\n\nclass DateController {\n    constructor() {\n        this.state = {\n            dates: []\n        }\n    }\n\n    async showTodayDates(daysToQuery, id) {\n        const myDates = [];\n\n        let aux = daysToQuery;\n        if (aux.length == 0) {\n            aux = [this.filterDate(new Date())];\n        }\n\n        async function asyncForEach(array, callback) {\n            for (let index = 0; index < array.length; index++) {\n                await callback(array[index], index, array);\n            }\n        }\n\n        await asyncForEach(aux, async (each) => {\n            await DateService.getDates({ id: id, day: each })\n                .then(res => {\n                    if (res.data.success) {\n                        const data = res.data.data[0];\n                        myDates.push({ dates: data });\n                    } else {\n                        console.error('Error loading dates service');\n                    }\n                })\n                .catch(err => {\n                    console.error('ERROR server' + err);\n                });\n        });\n\n        return myDates;\n    }\n\n    filterDate(day) {\n        return day.getFullYear() + '/' + (day.getMonth() + 1) + '/' + day.getDate();\n    }\n\n    getDaysToQuery(startDate, endDate) {\n        const days = [];\n        let eachDay = new Date(startDate.getTime());\n        let i = 1;\n        const finalDay = new Date(endDate.getTime());\n        while (eachDay.getTime() <= finalDay) {\n            days.push(this.filterDate(eachDay));\n            eachDay = new Date(startDate.getTime()).addDays(i);\n            i++;\n        }\n        return days;\n    }\n\n    loadFillData(dates) {\n        if(dates){\n            this.state.dates=dates;\n        }\n        return this.state.dates.map(each => {\n            if (each.dates) {\n                return (\n                    <tr>\n                        <td>{each.dates.date}</td>\n                        <td>{each.dates.time}</td>\n                        <td>{each.dates.email}</td>\n                        <td>{each.dates.dateType.name}</td>\n                    </tr>\n                );\n            }\n        });\n    }\n}\n\nexport default new DateController();"]},"metadata":{},"sourceType":"module"}