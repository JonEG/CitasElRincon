{"ast":null,"code":"var _jsxFileName = \"/Users/trabajo/Desktop/ELRINCON/react-rincon/src/modules/profile copy.js\";\nimport React from 'react';\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport '../../node_modules/bootstrap/dist/js/bootstrap.bundle.min';\nimport ProfessionalService from '../services/professional.service';\nimport DepartmentService from '../services/department.service';\nimport TutorService from '../services/tutor.service';\nimport RoleService from '../services/role.service';\nimport Swal from 'sweetalert2';\nimport $ from 'jquery';\n\nclass profileComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.formatImage = value => {\n      console.log(value.target.files[0]);\n    };\n\n    this.state = {\n      departments: [],\n      roles: [],\n      tutors: [],\n      name: \"\",\n      departmentId: -1,\n      roleId: -1,\n      email: \"\",\n      tutorId: -1,\n      comment: \"\",\n      image: {\n        name: \"\",\n        type: \"\",\n        data: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.queryDepartments();\n    this.queryRoles();\n    this.queryTutors();\n  }\n\n  queryDepartments() {\n    DepartmentService.getAll().then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        this.setState({\n          departments: data\n        });\n      } else {\n        alert('Error web service');\n      }\n    }).catch(err => {\n      alert('ERROR server' + err);\n    });\n  }\n\n  queryRoles() {\n    RoleService.getAll().then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        this.setState({\n          roles: data\n        });\n      } else {\n        alert('Error web service');\n      }\n    }).catch(err => {\n      alert('ERROR server' + err);\n    });\n  }\n\n  queryTutors() {\n    TutorService.getAll().then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        this.setState({\n          tutors: data\n        });\n      } else {\n        alert('Error web service');\n      }\n    }).catch(err => {\n      alert('ERROR server' + err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"script\", {\n      src: \"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.name,\n      onChange: value => this.setState({\n        name: value.target.value\n      }),\n      class: \"form-control\",\n      name: \"nombre\",\n      placeholder: \"nombre\",\n      autofocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      class: \"form-control\",\n      onChange: value => this.setState({\n        departmentId: value.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 49\n      }\n    }, \"Departamento\"), this.loadDepartments()))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      class: \"form-control\",\n      onChange: value => this.setState({\n        roleId: value.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 49\n      }\n    }, \"Rol\"), this.loadRoles()))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      class: \"form-control\",\n      onChange: value => this.setState({\n        tutorId: value.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 49\n      }\n    }, \"Tutor\\xEDa\"), this.loadTutors())))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-success\",\n      onClick: () => this.addProfessional(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 37\n      }\n    }, \"A\\xF1adir\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      class: \"md-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"file-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://mdbootstrap.com/img/Photos/Others/placeholder-avatar.jpg\",\n      ref: profilePicture => this.myProfilePicture = profilePicture,\n      id: \"blah\",\n      class: \"rounded-circle z-depth-1-half avatar-pic img-fluid img-thumbnail\",\n      alt: \"avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"btn btn-mdb-color btn-rounded float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: myElement => this.myFileElement = myElement //style={{display:'none'}}\n      ,\n      type: \"file\",\n      id: \"imgInput\",\n      onChange: value => {\n        this.readURL(value.target);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 49\n      }\n    }))))))))));\n  }\n\n  loadDepartments() {\n    return this.state.departments.map(data => {\n      if (data) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: data.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 21\n          }\n        }, data.name);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n  loadRoles() {\n    return this.state.roles.map(data => {\n      if (data) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: data.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 21\n          }\n        }, data.name);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n  loadTutors() {\n    return this.state.tutors.map(data => {\n      if (data) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: data.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 21\n          }\n        }, data.name);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n  readURL(input) {\n    alert(\"entro\");\n\n    if (input.files && input.files[0]) {\n      var reader = new FileReader();\n      alert(input.files[0].type);\n\n      if (input.files[0].type.includes(\"image\")) {\n        reader.onload = function (e) {\n          $('#blah').attr('src', e.target.result);\n        };\n\n        reader.readAsDataURL(input.files[0]); // convert to base64 string\n      }\n    }\n  }\n\n  loadImage(myValue) {\n    alert('XD'); //https://www.youtube.com/watch?v=XeiOnkEI7XI\n\n    this.myProfilePicture = myValue;\n    this.state.image = {\n      name: myValue.name,\n      type: myValue.type,\n      data: myValue\n    };\n    console.log(myValue);\n  }\n\n  addProfessional() {\n    // parametros de datos post\n    const datapost = {\n      name: this.state.name,\n      departmentId: this.state.departmentId,\n      roleId: this.state.roleId,\n      email: \"kkk\",\n      tutorId: this.state.tutorId,\n      comment: null,\n      image: this.state.image\n    };\n    alert(JSON.stringify(datapost));\n    ProfessionalService.create(datapost).then(res => {\n      if (res.data.success) {\n        //alert(res.data.message);\n        Swal.fire({\n          position: 'top',\n          icon: 'success',\n          title: 'Profesional añadido correctamente!',\n          showConfirmButton: false,\n          timer: 2000\n        }); //this.props.history.push('/list'); \n      } else {\n        alert(\"Error\");\n      }\n    }).catch(error => {\n      alert(\"Error 34 \" + error);\n    });\n  }\n\n}\n\nexport default profileComponent;","map":{"version":3,"sources":["/Users/trabajo/Desktop/ELRINCON/react-rincon/src/modules/profile copy.js"],"names":["React","ProfessionalService","DepartmentService","TutorService","RoleService","Swal","$","profileComponent","Component","constructor","props","formatImage","value","console","log","target","files","state","departments","roles","tutors","name","departmentId","roleId","email","tutorId","comment","image","type","data","componentDidMount","queryDepartments","queryRoles","queryTutors","getAll","then","res","success","setState","alert","catch","err","render","loadDepartments","loadRoles","loadTutors","addProfessional","profilePicture","myProfilePicture","myElement","myFileElement","readURL","map","id","input","reader","FileReader","includes","onload","e","attr","result","readAsDataURL","loadImage","myValue","datapost","JSON","stringify","create","fire","position","icon","title","showConfirmButton","timer","error"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport '../../node_modules/bootstrap/dist/js/bootstrap.bundle.min';\n\nimport ProfessionalService from '../services/professional.service';\nimport DepartmentService from '../services/department.service';\nimport TutorService from '../services/tutor.service';\nimport RoleService from '../services/role.service';\n\nimport Swal from 'sweetalert2';\nimport $ from 'jquery';\n\nclass profileComponent extends React.Component {\n\n    formatImage = (value) => {\n        console.log(value.target.files[0]);\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            departments: [],\n            roles: [],\n            tutors: [],\n            name: \"\",\n            departmentId: -1,\n            roleId: -1,\n            email: \"\",\n            tutorId: -1,\n            comment: \"\",\n            image: {\n                name: \"\",\n                type: \"\",\n                data: \"\"\n            }\n        };\n    }\n\n    componentDidMount() {\n        this.queryDepartments();\n        this.queryRoles();\n        this.queryTutors();\n    }\n\n    queryDepartments() {\n        DepartmentService.getAll()\n            .then(res => {\n                \n                if (res.data.success) {\n                    const data = res.data.data;\n                    this.setState({ departments: data });\n                } else {\n                    alert('Error web service');\n                }\n            })\n            .catch(err => {\n                alert('ERROR server' + err);\n            });\n    }\n\n    queryRoles() {\n        RoleService.getAll()\n            .then(res => {\n        \n                if (res.data.success) {\n                    const data = res.data.data;\n                    this.setState({ roles: data });\n                } else {\n                    alert('Error web service');\n                }\n            })\n            .catch(err => {\n                alert('ERROR server' + err);\n            });\n    }\n\n    queryTutors(){\n        TutorService.getAll()\n            .then(res => {\n        \n                if (res.data.success) {\n                    const data = res.data.data;\n                    this.setState({ tutors: data });\n                } else {\n                    alert('Error web service');\n                }\n            })\n            .catch(err => {\n                alert('ERROR server' + err);\n            });\n    }\n\n    render() {\n        return (\n            <div class=\"container p-4\">\n                <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"></script>\n                <div class=\"row\">\n                    <div class=\"col-lg-9\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <div class=\"form-group \">\n                                    <input type=\"text\"\n                                        value={this.state.name}\n                                        onChange={(value) => this.setState({ name: value.target.value })}\n                                        class=\"form-control\" name=\"nombre\" placeholder=\"nombre\" autofocus\n                                    />\n                                </div>\n\n                                <div class=\"row\">\n                                    <div class=\"col-lg-3\">\n                                        <div class=\"form-group\">\n                                            <select class=\"form-control\" \n                                            onChange={(value) => this.setState({ departmentId: value.target.value })} >\n                                                <option selected disabled>Departamento</option>\n                                                {this.loadDepartments()}\n                                        \n                                            </select>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"col-lg-2\">\n                                        <div class=\"form-group\">\n                                        <select class=\"form-control\" \n                                            onChange={(value) => this.setState({ roleId: value.target.value })} >\n                                                <option selected disabled >Rol</option>\n                                                {this.loadRoles()}\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"col-lg-3\">\n                                        <div class=\"form-group\">\n                                        <select class=\"form-control\" \n                                            onChange={(value) => this.setState({ tutorId: value.target.value })} >\n                                                <option selected disabled >Tutoría</option>\n                                                {this.loadTutors()}\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                                <div class=\"form-group\">\n                                    <button type=\"submit\" class=\"btn btn-success\" onClick={()=>this.addProfessional()}>Añadir</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"col-lg-3\">\n                        <div class=\"card\">\n                            <div class=\"card-body text-center\">\n                                <form class=\"md-form\">\n                                    <div class=\"file-field\">\n                                        <div class=\"md-4\">\n                                            <img src=\"https://mdbootstrap.com/img/Photos/Others/placeholder-avatar.jpg\"\n                                                ref={profilePicture => this.myProfilePicture = profilePicture}\n                                                id=\"blah\"\n                                                class=\"rounded-circle z-depth-1-half avatar-pic img-fluid img-thumbnail\" alt=\"avatar\"\n                                            />\n                                        </div>\n                                        <div class=\"d-flex\">\n                                            <div class=\"btn btn-mdb-color btn-rounded float-left\">\n                                                <input ref={(myElement) => this.myFileElement = myElement}\n                                                    //style={{display:'none'}}\n                                                    type=\"file\" \n                                                    id=\"imgInput\"\n                                                    onChange={(value)=> {this.readURL(value.target)}} \n                                                />\n                                                {/*}\n                                                <button onClick={()=> this.myFileElement.click()}\n                                                    class=\"btn btn-primary\">Seleccionar Imagen\n                                                </button>\n                                                */}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        );\n    }\n\n    loadDepartments() {\n        return this.state.departments.map(data => {\n            if (data) {\n                return (\n                    <option value={data.id}>{data.name}</option>                \n                );\n            }else{\n                return <div></div>;\n            }\n        });\n    }\n\n    loadRoles() {\n        return this.state.roles.map(data => {\n            if (data) {\n                return (\n                    <option value={data.id}>{data.name}</option>                \n                );\n            }else{\n                return <div></div>;\n            }\n        });\n    }\n\n    loadTutors() {\n        return this.state.tutors.map(data => {\n            if (data) {\n                return (\n                    <option value={data.id}>{data.name}</option>               \n                );\n            }else{\n                return <div></div>;\n            }\n        });\n    }\n\n    readURL(input) {\n        alert(\"entro\");\n        if (input.files && input.files[0]) {\n             var reader = new FileReader();\n\n             alert(input.files[0].type);\n\n            if(input.files[0].type.includes(\"image\")){\n                reader.onload = function(e) {\n                    $('#blah').attr('src', e.target.result);\n                }\n              \n                reader.readAsDataURL(input.files[0]); // convert to base64 string\n            }\n          \n            \n        }\n    }\n    \n\n    loadImage(myValue){\n        alert('XD');\n        //https://www.youtube.com/watch?v=XeiOnkEI7XI\n        this.myProfilePicture = myValue;\n        this.state.image = {\n            name: myValue.name,\n            type: myValue.type,\n            data: myValue\n        }\n        console.log(myValue);\n    }\n\n    addProfessional(){\n        // parametros de datos post\n        const datapost = {\n        name : this.state.name,\n            departmentId: this.state.departmentId,\n            roleId: this.state.roleId,\n            email: \"kkk\",\n            tutorId: this.state.tutorId,\n            comment: null,\n            image: this.state.image\n        }\n        alert(JSON.stringify(datapost));\n        \n        ProfessionalService.create(datapost)\n        .then(res=>{\n        if (res.data.success) {\n            //alert(res.data.message);\n            Swal.fire({\n                position: 'top',\n                icon: 'success',\n                title: 'Profesional añadido correctamente!',\n                showConfirmButton: false,\n                timer: 2000\n              })\n            //this.props.history.push('/list'); \n        }\n        else {\n            alert(\"Error\");\n        }\n        }).catch(error=>{\n        alert(\"Error 34 \"+error);\n        }); \n    }\n}\n\n\n\nexport default profileComponent;"]},"metadata":{},"sourceType":"module"}