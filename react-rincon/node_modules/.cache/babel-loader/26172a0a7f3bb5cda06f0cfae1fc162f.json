{"ast":null,"code":"class timetableController {\n  constructor() {\n    this.handleChange = async (time, day, dayData) => {\n      if (time == null) return;\n      const filteredTime = await String(time).match(/\\d{2}:\\d{2}/g)[0];\n\n      if (day == \"from\") {\n        dayData.myDateFrom = time;\n        dayData.from = filteredTime;\n      } else if (day == \"to\") {\n        dayData.myDateTo = time;\n        dayData.to = filteredTime;\n      }\n\n      return dayData;\n    };\n  }\n\n  updateTimetable(data, tableId, myUser) {\n    let updated = false;\n\n    if (tableId == null) {\n      TimetableService.create(data).then(res => {\n        myUser.timetableId = res.data.id;\n        ProfessionalService.update(myUser).then(() => {\n          Swal.fire({\n            toast: true,\n            title: \"Horario actualizado\",\n            position: 'top-end',\n            icon: 'success',\n            showConfirmButton: false,\n            timer: 2000\n          });\n          updated = true; //this.setState({ reloadTable: true })\n        }).catch(error => console.error(\"error creating timetable\" + error));\n      }).catch(error => console.error(\"error creating timetable\" + error));\n    } else {\n      TimetableService.update(data).then(res => {\n        if (res.data.success == true) {\n          //this.setState({ reloadTable: true })\n          Swal.fire({\n            toast: true,\n            title: \"Horario actualizado\",\n            position: 'top-end',\n            icon: 'success',\n            showConfirmButton: false,\n            timer: 2000\n          });\n          updated = true;\n        }\n      }).catch(error => console.error(\"error actualizando timetable\" + error));\n    }\n\n    return updated;\n  }\n\n}\n\nexport default new timetableController();","map":{"version":3,"sources":["/Users/trabajo/Desktop/ELRINCON/react-rincon/src/controllers/timetableController.js"],"names":["timetableController","constructor","handleChange","time","day","dayData","filteredTime","String","match","myDateFrom","from","myDateTo","to","updateTimetable","data","tableId","myUser","updated","TimetableService","create","then","res","timetableId","id","ProfessionalService","update","Swal","fire","toast","title","position","icon","showConfirmButton","timer","catch","error","console","success"],"mappings":"AAAA,MAAMA,mBAAN,CAA0B;AACtBC,EAAAA,WAAW,GAAG;AAAA,SAGdC,YAHc,GAGC,OAAOC,IAAP,EAAaC,GAAb,EAAkBC,OAAlB,KAA8B;AACzC,UAAIF,IAAI,IAAI,IAAZ,EAAkB;AAClB,YAAMG,YAAY,GAAG,MAAMC,MAAM,CAACJ,IAAD,CAAN,CAAaK,KAAb,CAAmB,cAAnB,EAAmC,CAAnC,CAA3B;;AACA,UAAIJ,GAAG,IAAI,MAAX,EAAmB;AACfC,QAAAA,OAAO,CAACI,UAAR,GAAqBN,IAArB;AACAE,QAAAA,OAAO,CAACK,IAAR,GAAeJ,YAAf;AACH,OAHD,MAGO,IAAIF,GAAG,IAAI,IAAX,EAAiB;AACpBC,QAAAA,OAAO,CAACM,QAAR,GAAmBR,IAAnB;AACAE,QAAAA,OAAO,CAACO,EAAR,GAAaN,YAAb;AACH;;AACD,aAAOD,OAAP;AACH,KAda;AACb;;AAeDQ,EAAAA,eAAe,CAACC,IAAD,EAAMC,OAAN,EAAcC,MAAd,EAAsB;AACjC,QAAIC,OAAO,GAAG,KAAd;;AACA,QAAIF,OAAO,IAAI,IAAf,EAAqB;AACjBG,MAAAA,gBAAgB,CAACC,MAAjB,CAAwBL,IAAxB,EAA8BM,IAA9B,CAAoCC,GAAD,IAAS;AACxCL,QAAAA,MAAM,CAACM,WAAP,GAAqBD,GAAG,CAACP,IAAJ,CAASS,EAA9B;AACAC,QAAAA,mBAAmB,CAACC,MAApB,CAA2BT,MAA3B,EAAmCI,IAAnC,CAAwC,MAAM;AAC1CM,UAAAA,IAAI,CAACC,IAAL,CAAU;AACNC,YAAAA,KAAK,EAAE,IADD;AAENC,YAAAA,KAAK,EAAE,qBAFD;AAGNC,YAAAA,QAAQ,EAAE,SAHJ;AAINC,YAAAA,IAAI,EAAE,SAJA;AAKNC,YAAAA,iBAAiB,EAAE,KALb;AAMNC,YAAAA,KAAK,EAAE;AAND,WAAV;AAQAhB,UAAAA,OAAO,GAAC,IAAR,CAT0C,CAU1C;AACH,SAXD,EAWGiB,KAXH,CAWUC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAe,6BAA2BA,KAA1C,CAXpB;AAaH,OAfD,EAeGD,KAfH,CAeUC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAe,6BAA2BA,KAA1C,CAfpB;AAgBH,KAjBD,MAiBO;AACHjB,MAAAA,gBAAgB,CAACO,MAAjB,CAAwBX,IAAxB,EAA8BM,IAA9B,CAAoCC,GAAD,IAAS;AACxC,YAAIA,GAAG,CAACP,IAAJ,CAASuB,OAAT,IAAoB,IAAxB,EAA8B;AAC1B;AACAX,UAAAA,IAAI,CAACC,IAAL,CAAU;AACNC,YAAAA,KAAK,EAAE,IADD;AAENC,YAAAA,KAAK,EAAE,qBAFD;AAGNC,YAAAA,QAAQ,EAAE,SAHJ;AAINC,YAAAA,IAAI,EAAE,SAJA;AAKNC,YAAAA,iBAAiB,EAAE,KALb;AAMNC,YAAAA,KAAK,EAAE;AAND,WAAV;AAQAhB,UAAAA,OAAO,GAAC,IAAR;AACH;AACJ,OAbD,EAaGiB,KAbH,CAaUC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAe,iCAA+BA,KAA9C,CAbpB;AAcH;;AACD,WAAOlB,OAAP;AACH;;AArDqB;;AAyD1B,eAAe,IAAIjB,mBAAJ,EAAf","sourcesContent":["class timetableController {\n    constructor() {\n    }\n\n    handleChange = async (time, day, dayData) => {\n        if (time == null) return;\n        const filteredTime = await String(time).match(/\\d{2}:\\d{2}/g)[0];\n        if (day == \"from\") {\n            dayData.myDateFrom = time;\n            dayData.from = filteredTime;\n        } else if (day == \"to\") {\n            dayData.myDateTo = time;\n            dayData.to = filteredTime;\n        }\n        return dayData;\n    }\n\n    updateTimetable(data,tableId,myUser) {\n        let updated = false;\n        if (tableId == null) {\n            TimetableService.create(data).then((res) => {\n                myUser.timetableId = res.data.id;\n                ProfessionalService.update(myUser).then(() => {\n                    Swal.fire({\n                        toast: true,\n                        title: \"Horario actualizado\",\n                        position: 'top-end',\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 2000\n                    });\n                    updated=true;\n                    //this.setState({ reloadTable: true })\n                }).catch((error) => console.error (\"error creating timetable\"+error)) ;\n\n            }).catch((error) => console.error (\"error creating timetable\"+error)) \n        } else {\n            TimetableService.update(data).then((res) => {\n                if (res.data.success == true) {\n                    //this.setState({ reloadTable: true })\n                    Swal.fire({\n                        toast: true,\n                        title: \"Horario actualizado\",\n                        position: 'top-end',\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 2000\n                    });\n                    updated=true;\n                }\n            }).catch((error) => console.error (\"error actualizando timetable\"+error)) ;\n        }\n        return updated;\n    }\n\n}\n\nexport default new timetableController();"]},"metadata":{},"sourceType":"module"}