{"ast":null,"code":"var _jsxFileName = \"/Users/trabajo/Desktop/ELRINCON/react-rincon/src/controllers/profileController.js\";\nimport React, { Component } from 'react';\nimport ProfessionalService from '../services/professional.service';\nimport DepartmentService from '../services/department.service';\nimport TutorService from '../services/tutor.service';\nimport RoleService from '../services/role.service';\nimport ProfileController from '../controllers/profileController';\nimport Swal from 'sweetalert2';\n\nclass profileController {\n  constructor() {\n    this.state = {\n      email: sessionStorage.getItem(\"userEmail\"),\n      response: {},\n      departments: {},\n      roles: {},\n      tutors: {}\n    };\n  }\n\n  async loadUserId() {\n    await ProfessionalService.getWithEmail({\n      email: this.state.email\n    }).then(res => {\n      if (res.data.success) {\n        this.state.response = {\n          redirect: \"/\"\n        };\n      } else {\n        this.state.response = {\n          allowCreation: true\n        };\n      }\n    }).catch(err => {\n      console.error('ERROR server' + err);\n    });\n    return this.state.response;\n  }\n\n  async queryDepartments() {\n    await DepartmentService.getAll().then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        this.state.departments = data;\n      } else {\n        console.error('Error web service');\n      }\n    }).catch(err => {\n      console.error('ERROR server' + err);\n    }); //console.log(this.state.departments);\n  }\n\n  async queryRoles() {\n    await RoleService.getAll().then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        this.state.roles = data;\n      } else {\n        console.error('Error web service');\n      }\n    }).catch(err => {\n      console.error('ERROR server' + err);\n    }); //console.log(this.state.roles);\n  }\n\n  async queryTutors() {\n    await TutorService.getAll().then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        this.state.tutors = data;\n      } else {\n        console.error('Error web service');\n      }\n    }).catch(err => {\n      console.error('ERROR server' + err);\n    }); //console.log(this.state.tutors);\n\n    return this.state.tutors;\n  }\n\n  loadDepartments() {\n    this.queryDepartments();\n    return this.state.departments.map(data => {\n      if (data) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: data.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }\n        }, data.name);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n  async loadRoles() {\n    await this.queryRoles();\n    return this.state.roles.map(data => {\n      if (data) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: data.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }\n        }, data.name);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n  async loadTutors() {\n    await this.queryTutors();\n    return this.state.tutors.map(data => {\n      if (data) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: data.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }\n        }, data.name);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n}\n\nexport default new profileController();","map":{"version":3,"sources":["/Users/trabajo/Desktop/ELRINCON/react-rincon/src/controllers/profileController.js"],"names":["React","Component","ProfessionalService","DepartmentService","TutorService","RoleService","ProfileController","Swal","profileController","constructor","state","email","sessionStorage","getItem","response","departments","roles","tutors","loadUserId","getWithEmail","then","res","data","success","redirect","allowCreation","catch","err","console","error","queryDepartments","getAll","queryRoles","queryTutors","loadDepartments","map","id","name","loadRoles","loadTutors"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ProfessionalService from '../services/professional.service';\nimport DepartmentService from '../services/department.service';\nimport TutorService from '../services/tutor.service';\nimport RoleService from '../services/role.service';\nimport ProfileController from '../controllers/profileController';\n\nimport Swal from 'sweetalert2';\n\nclass profileController {\n    constructor() {\n        this.state = {\n            email: sessionStorage.getItem(\"userEmail\"),\n            response: {},\n            departments: {},\n            roles: {},\n            tutors: {}\n        }\n    }\n\n    async loadUserId() {\n        await ProfessionalService.getWithEmail({ email: this.state.email })\n            .then(res => {\n                if (res.data.success) {\n                    this.state.response = { redirect: \"/\" };\n                } else {\n                    this.state.response = { allowCreation: true };\n                }\n            })\n            .catch(err => {\n                console.error('ERROR server' + err);\n            });\n        return this.state.response;\n    }\n\n    async queryDepartments() {\n        await DepartmentService.getAll()\n            .then(res => {\n                if (res.data.success) {\n                    const data = res.data.data;\n                    this.state.departments = data;\n                } else {\n                    console.error('Error web service');\n                }\n            })\n            .catch(err => {\n                console.error('ERROR server' + err);\n            });\n        //console.log(this.state.departments);\n    }\n\n    async queryRoles() {\n        await RoleService.getAll()\n            .then(res => {\n                if (res.data.success) {\n                    const data = res.data.data;\n                    this.state.roles = data;\n                } else {\n                    console.error('Error web service');\n                }\n            })\n            .catch(err => {\n                console.error('ERROR server' + err);\n            });\n        //console.log(this.state.roles);\n    }\n\n    async queryTutors() {\n        await TutorService.getAll()\n            .then(res => {\n                if (res.data.success) {\n                    const data = res.data.data;\n                    this.state.tutors = data;\n                } else {\n                    console.error('Error web service');\n                }\n            })\n            .catch(err => {\n                console.error('ERROR server' + err);\n            });\n        //console.log(this.state.tutors);\n        return this.state.tutors;\n    }\n\n    loadDepartments() {\n        this.queryDepartments();\n        return this.state.departments.map(data => {\n            if (data) {\n                return (\n                    <option value={data.id}>{data.name}</option>\n                );\n            } else {\n                return <div></div>;\n            }\n        });\n    }\n\n    async loadRoles() {\n        await this.queryRoles();\n        return this.state.roles.map(data => {\n            if (data) {\n                return (\n                    <option value={data.id}>{data.name}</option>\n                );\n            } else {\n                return <div></div>;\n            }\n        });\n    }\n\n    async loadTutors() {\n        await this.queryTutors();\n        return this.state.tutors.map(data => {\n            if (data) {\n                return (\n                    <option value={data.id}>{data.name}</option>\n                );\n            } else {\n                return <div></div>;\n            }\n        });\n    }\n\n}\nexport default new profileController();"]},"metadata":{},"sourceType":"module"}