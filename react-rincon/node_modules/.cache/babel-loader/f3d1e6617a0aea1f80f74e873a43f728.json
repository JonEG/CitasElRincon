{"ast":null,"code":"import _classCallCheck from\"/Users/trabajo/Desktop/ELRINCON/react-rincon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/trabajo/Desktop/ELRINCON/react-rincon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/trabajo/Desktop/ELRINCON/react-rincon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/trabajo/Desktop/ELRINCON/react-rincon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from'react';import'bootstrap/dist/css/bootstrap.min.css';import'bootstrap/dist/js/bootstrap.bundle.min';import ReactDOM from'react-dom';import{GoogleLogin}from'react-google-login';import{Redirect}from\"react-router-dom\";import Swal from'sweetalert2';import authController from'../controllers/authController';var signinComponent=/*#__PURE__*/function(_React$Component){_inherits(signinComponent,_React$Component);var _super=_createSuper(signinComponent);function signinComponent(props){var _this;_classCallCheck(this,signinComponent);_this=_super.call(this,props);_this.state={redirect:null};return _this;}_createClass(signinComponent,[{key:\"responseGoogle\",value:function responseGoogle(response){console.log(response);sessionStorage[\"userName\"]=response.profileObj.name;sessionStorage[\"userEmail\"]=response.profileObj.email;sessionStorage[\"userUrl\"]=response.profileObj.imageUrl;console.log(\"CAMPOS: \".concat(sessionStorage.getItem(\"userName\")));}},{key:\"render\",value:function render(){var _this2=this;if(this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{to:this.state.redirect});}return/*#__PURE__*/React.createElement(\"div\",{class:\"container p-4\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-md-4 mx-auto\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card text-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Iniciar Sesi\\xF3n\")),/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},/*#__PURE__*/React.createElement(GoogleLogin,{clientId:\"820637070016-genrk31ge28bjg97du1q9bkvsa0p6bdq.apps.googleusercontent.com\",buttonText:\"Iniciar sesion\",onSuccess:function onSuccess(res){_this2.responseGoogle(res);authController.login(function(){return _this2.setState({redirect:\"/crear-perfil\"});});},onFailure:function onFailure(){return console.log('error crack');},cookiePolicy:'single_host_origin'}))))));}},{key:\"showLogInError\",value:function showLogInError(){if(!sessionStorage.getItem(\"userEmail\")){Swal.fire({position:'center',icon:'error',title:'Error con el inicio de sesión!',showConfirmButton:false,timer:2000});}}}]);return signinComponent;}(React.Component);export default signinComponent;","map":{"version":3,"sources":["/Users/trabajo/Desktop/ELRINCON/react-rincon/src/modules/signin.js"],"names":["React","useState","ReactDOM","GoogleLogin","Redirect","Swal","authController","signinComponent","props","state","redirect","response","console","log","sessionStorage","profileObj","name","email","imageUrl","getItem","res","responseGoogle","login","setState","fire","position","icon","title","showConfirmButton","timer","Component"],"mappings":"4nBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,sCAAP,CACA,MAAO,wCAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAASC,WAAT,KAA4B,oBAA5B,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,C,GAEMC,CAAAA,e,8HAEF,yBAAYC,KAAZ,CAAmB,iDACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,IADD,CAAb,CAFe,aAKlB,C,kFAEeC,Q,CAAU,CACtBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAG,cAAc,CAAC,UAAD,CAAd,CAA6BH,QAAQ,CAACI,UAAT,CAAoBC,IAAjD,CACAF,cAAc,CAAC,WAAD,CAAd,CAA8BH,QAAQ,CAACI,UAAT,CAAoBE,KAAlD,CACAH,cAAc,CAAC,SAAD,CAAd,CAA4BH,QAAQ,CAACI,UAAT,CAAoBG,QAAhD,CACAN,OAAO,CAACC,GAAR,mBAAuBC,cAAc,CAACK,OAAf,CAAuB,UAAvB,CAAvB,GACH,C,uCAEQ,iBACL,GAAI,KAAKV,KAAL,CAAWC,QAAf,CAAyB,CACrB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAE,KAAKD,KAAL,CAAWC,QAAzB,EAAP,CACH,CACD,mBACI,2BAAK,KAAK,CAAC,eAAX,eACI,2BAAK,KAAK,CAAC,KAAX,eACI,2BAAK,KAAK,CAAC,kBAAX,eACI,2BAAK,KAAK,CAAC,kBAAX,eACI,2BAAK,KAAK,CAAC,aAAX,eACI,kDADJ,CADJ,cAII,2BAAK,KAAK,CAAC,WAAX,eAEI,oBAAC,WAAD,EACI,QAAQ,CAAC,0EADb,CAEI,UAAU,CAAC,gBAFf,CAGI,SAAS,CAAG,mBAACU,GAAD,CAAS,CACjB,MAAI,CAACC,cAAL,CAAoBD,GAApB,EACAd,cAAc,CAACgB,KAAf,CAAqB,iBACjB,CAAA,MAAI,CAACC,QAAL,CAAc,CAACb,QAAQ,CAAE,eAAX,CAAd,CADiB,EAArB,EAGH,CARL,CAUI,SAAS,CAAG,2BAAME,CAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,CAAN,EAVhB,CAWI,YAAY,CAAE,oBAXlB,EAFJ,CAJJ,CADJ,CADJ,CADJ,CADJ,CA8BH,C,uDAEe,CACZ,GAAG,CAACC,cAAc,CAACK,OAAf,CAAuB,WAAvB,CAAJ,CAAwC,CACpCd,IAAI,CAACmB,IAAL,CAAU,CACNC,QAAQ,CAAE,QADJ,CAENC,IAAI,CAAE,OAFA,CAGNC,KAAK,CAAE,gCAHD,CAINC,iBAAiB,CAAE,KAJb,CAKNC,KAAK,CAAE,IALD,CAAV,EAOH,CAEJ,C,6BAhEyB7B,KAAK,CAAC8B,S,EAmEpC,cAAevB,CAAAA,eAAf","sourcesContent":["import React, { useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport ReactDOM from 'react-dom';\nimport { GoogleLogin } from 'react-google-login';\nimport { Redirect } from \"react-router-dom\";\nimport Swal from 'sweetalert2';\nimport authController from '../controllers/authController';\n\nclass signinComponent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            redirect: null\n        };\n    }\n\n    responseGoogle (response) {\n        console.log(response);\n        sessionStorage[\"userName\"] = response.profileObj.name;\n        sessionStorage[\"userEmail\"] = response.profileObj.email;\n        sessionStorage[\"userUrl\"] = response.profileObj.imageUrl;\n        console.log(`CAMPOS: ${sessionStorage.getItem(\"userName\")}`);\n    }\n    \n    render() {\n        if (this.state.redirect) {\n            return <Redirect to={this.state.redirect} />\n        }\n        return (\n            <div class=\"container p-4\">\n                <div class=\"row\">\n                    <div class=\"col-md-4 mx-auto\">\n                        <div class=\"card text-center\">\n                            <div class=\"card-header\">\n                                <h1>Iniciar Sesión</h1>\n                            </div>\n                            <div class=\"card-body\">\n                                {\n                                <GoogleLogin\n                                    clientId=\"820637070016-genrk31ge28bjg97du1q9bkvsa0p6bdq.apps.googleusercontent.com\"\n                                    buttonText=\"Iniciar sesion\"\n                                    onSuccess={ (res) => {\n                                        this.responseGoogle(res);\n                                        authController.login(()=>\n                                            this.setState({redirect: \"/crear-perfil\"})\n                                        );\n                                    }}\n                                \n                                    onFailure={ () => console.log('error crack')}\n                                    cookiePolicy={'single_host_origin'}\n                                />}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        );\n    }\n\n    showLogInError(){\n        if(!sessionStorage.getItem(\"userEmail\")){\n            Swal.fire({\n                position: 'center',\n                icon: 'error',\n                title: 'Error con el inicio de sesión!',\n                showConfirmButton: false,\n                timer: 2000\n            });\n        }\n        \n    }\n}\n\nexport default signinComponent;"]},"metadata":{},"sourceType":"module"}